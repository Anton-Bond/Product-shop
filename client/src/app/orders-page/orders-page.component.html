<h2>Список заказов</h2>

<div *ngIf="!isLoaded">Загрузка...</div>
<div *ngIf="isLoaded">
  <div *ngIf="orders.length; else elseBlock">
    <!-- TABLE -->
    <table class="table table-striped">
      <thead>
        <tr>
          <th>#</th>
          <th>Номер заказа</th>
          <th>Дата заказа</th>
          <th>Стоимость</th>
          <th>Аккаунт</th>
          <th class="text-lg-center"></th>
          <th class="text-lg-center"></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let order of orders; let i=index">
          <th scope="row" >{{i + 1}}</th>
          <td>{{order.orderNum}}</td>
          <td>{{order.date | date : 'short'}}</td>
          <td>{{orderCost(order.list)}}</td>
          <td>{{order.userId.email}}</td>
          <td>
            <button type="button" class="btn-small green" routerLink="/orders/{{order._id}}">Просмотр заказа</button>
          </td>
          <td>
            <button type="button" class="btn-small red" (click)="removeOrder(order._id)">Удалить заказ</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <ng-template #elseBlock>
    <p>Список заказов пуст</p>
  </ng-template>
</div>
